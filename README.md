## üß† How It Works ‚Äì Simple, Yet Powerful

The GodiSittes website is built as a static site, enhanced with dynamic language support through JavaScript and pre-rendered localized HTML files.

### Key Concepts

- **No CMS, no server-side logic.**  
  Everything is processed at build time ‚Äì the result is a fast, SEO-friendly, 100% static site.

- **One source HTML per page.**  
  The source HTML is written in Hungarian, with all translatable text marked using `data-i18n` attributes.

- **One `translations.js` file**  
  This flat object contains key-value pairs for each language. During build, the keys are injected based on `data-i18n` attributes and metadata (title, meta description, etc.).

- **Language-specific folders** (`/hu`, `/en`, `/de`)  
  The deploy script creates a localized version of each page under each language folder, maintaining clean URLs and proper `<html lang="">` attributes.

- **SEO-friendly routing**  
  Canonical URLs, `hreflang` tags, and translated meta content are generated automatically for each language version.

- **Blog support**  
  Blog posts are treated like static HTML pages, but translated using the same `data-i18n` system. Simple, yet scalable.

- **Easy to maintain**  
  You write content once, mark it properly, and the deploy script does the rest. No complex frameworks, no build chains from hell.

### Why This Approach?

Because sometimes‚Ä¶ **simple is smart**.  
This setup gives you:

- Fast page loads
- Full control over every byte
- Great SEO out of the box
- Easy versioning and deployment
- Peace of mind (no runtime errors or dependencies)

> No database. No backend. Just pure HTML, JS, and love.  
> ‚Äì Zs√°kos Dzsoni ‚ù§Ô∏è


# GodiSittes Deploy Script

This project uses the `deploy.js` script to automate the entire build and internationalization pipeline for the static site. It processes translations, minifies assets, builds multilingual HTML files, and generates sitemap and robots.txt.

## üöÄ What It Automates

1. **Builds `translations.node.js`** for internal JS usage.
2. **Minifies translation files** ‚Üí `translations.min.js`
3. **Minifies JavaScript** ‚Üí `script.min.js`
4. **Minifies CSS** ‚Üí `style.min.css`
5. **Copies all minified assets** to the `/dist` directory.
6. **Processes HTML files** (including blog posts):
    - Injects correct translations from `translations.js`
    - Rewrites titles, meta tags, and canonical URLs
    - Handles language-specific link rewrites and text replacements
    - Supports fallback translation mapping based on original `HU` strings
7. **Generates localized versions** of every HTML file in `hu`, `en`, and `de` subfolders.
8. **Copies static assets**, including:
    - The `/images` folder
    - Optional `site.webmanifest`
    - Everything inside `/favicons/` ‚Üí copied flat to `/dist`
9. **Generates `sitemap.xml`** with entries for every language and page
10. **Generates `robots.txt`**
11. **Logs missing translation keys** per file and language
12. **Logs unused translation keys** to help clean up `translations.js`
13. **Updates language dropdowns** dynamically

> ‚ÑπÔ∏è The contents of `/favicons/` (such as `favicon.ico`, `apple-touch-icon.png`, etc.) are copied directly to the root of the `/dist` folder.  
> This ensures proper referencing by browsers and social platforms.

## üìÅ Folder Structure

```bash
godisittes/
‚îú‚îÄ‚îÄ .ddev/                         # DDEV config (optional)
‚îú‚îÄ‚îÄ blog/                          # Source blog articles (HTML)
‚îú‚îÄ‚îÄ dist/                          # Final output generated by deploy.js
‚îú‚îÄ‚îÄ favicons/                      # Favicons to be copied into dist/
‚îú‚îÄ‚îÄ images/                        # Static image assets
‚îú‚îÄ‚îÄ node_modules/                  # Installed dependencies
‚îú‚îÄ‚îÄ .htaccess.template             # Apache config (template)
‚îú‚îÄ‚îÄ 404.html                       # Custom 404 page
‚îú‚îÄ‚îÄ blog.html                      # Blog post listing page
‚îú‚îÄ‚îÄ deploy.js                      # Deployment script (magic happens here)
‚îú‚îÄ‚îÄ index.html                     # Main entry point
‚îú‚îÄ‚îÄ koszonjuk.html                 # Thank-you/confirmation page
‚îú‚îÄ‚îÄ package.json                   # Project config & dependencies
‚îú‚îÄ‚îÄ package-lock.json              # Dependency lock file
‚îú‚îÄ‚îÄ README.md                      # This file
‚îú‚îÄ‚îÄ robots.txt                     # Basic robots rules (generated too)
‚îú‚îÄ‚îÄ script.js                      # Raw JavaScript
‚îú‚îÄ‚îÄ speechtexts.js                 # Voice message strings
‚îú‚îÄ‚îÄ style.css                      # Raw CSS
‚îú‚îÄ‚îÄ translations.js                # Translations (editable)
‚îú‚îÄ‚îÄ translations.node.js           # Auto-generated version for node usage
‚îú‚îÄ‚îÄ watch.js                       # Local dev watcher (optional)
```

> üí° The system prioritizes simplicity. There‚Äôs no build framework, no bundlers ‚Äì just vanilla HTML + CSS + JS + a powerful Node.js deploy script.  
> This keeps deployment blazing fast and ultra-portable (great for shared hosting or basic Apache setups).


## üì¶ Required Modules

Before getting started, make sure [Node.js](https://nodejs.org/) is installed on your system.

Then, install the necessary modules by running:

```bash
npm install
```

To deploy, run:

```bash
node deploy.js
```

## ‚öôÔ∏è Apache Configuration ‚Äì .htaccess and VirtualHost

To serve the GodiSittes static website correctly with language fallback, proper routing, and cache headers, you'll need some custom Apache configuration.

### `.htaccess` Overview

The generated `.htaccess` file (copied automatically to `/dist`) enables:

- **Pretty URLs** (e.g. `/hu/blog.html` loads cleanly)
- **Language fallback** using `/hu`, `/en`, `/de` folders
- **Static file cache headers**
- **404 fallback to a custom page (`/404.html`)**

Example logic in `.htaccess`:

```apache
# Redirect trailing slash to index.html
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)/$ /$1/index.html [L]

# Fallback to 404.html for missing files
ErrorDocument 404 /404.html
```

> This is generated by the `deploy.js` script ‚Äì you don‚Äôt need to write it manually.

---

### Apache VirtualHost Example

Here is a basic `VirtualHost` setup that works well with the `/dist` output:

```apache
<VirtualHost *:443>
ServerName godisittes.hu
DocumentRoot /var/www/godisittes/dist

    SSLEngine on
    SSLCertificateFile      /etc/letsencrypt/live/godisittes.hu/fullchain.pem
    SSLCertificateKeyFile   /etc/letsencrypt/live/godisittes.hu/privkey.pem
    Include                 /etc/letsencrypt/options-ssl-apache.conf

    <Directory /var/www/godisittes/dist>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Compression
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/html text/plain text/css application/javascript
    </IfModule>

    # Cache control
    <IfModule mod_expires.c>
        ExpiresActive on
        ExpiresDefault "access plus 5 days"
        ExpiresByType text/css "access plus 1 year"
        ExpiresByType application/javascript "access plus 1 year"
        ExpiresByType image/webp "access plus 1 year"
        ExpiresByType image/png "access plus 1 year"
    </IfModule>

    # Security headers
    Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</VirtualHost>
```

‚úÖ **Tip:** For full redirect logic (e.g. from `www.` and `http` to `https://godisittes.hu`), check out the included `vhost.conf` in the project.

> The deploy script expects `/dist` to be the document root. Make sure Apache points there.

---

And that‚Äôs it! üéâ You now have a fully internationalized, ultra-fast static website with server-side support ‚Äì no framework bloat required.


## üé® Design Inspiration

These two pages inspired the visual style:

- https://codepen.io/kathykato/pen/wvgNVeJ
- https://speckyboy.com/comic-inspired-css-javascript-snippets/

## üôè Eternal Thanks

Special thanks to:

- Stephanie Eckles ‚Üí [Twitter: @5t3ph](https://twitter.com/5t3ph)
---

## üìù License

This project is released under a permissive open license.

You are free to:

- Use it
- Modify it
- Distribute it
- Integrate it into your own projects

**‚Ä¶as long as you credit the original author.**  
Please include the following attribution somewhere in your project or documentation:

```
Created by Zolt√°n Horv√°th ‚Äì https://beyondstart.solutions/
```

Let‚Äôs keep the web simple, fast, and clean ‚Äì together.

